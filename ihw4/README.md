# Индивидуальное ДЗ 4
Бирюлин Никита, @keddad

Вариант: 2

> В одном лесу живут n пчел и один медведь, которые используют один горшок меда, вместимостью Н глотков. Сначала горшок пустой. Пока горшок не наполнится, медведь спит. Как только горшок заполняется, медведь просыпается и съедает весь мед, после чего снова засыпает. Каждая пчела многократно собирает по одному глотку меда и кладет его в горшок. Пчела, которая приносит последнюю порцию меда, будит медведя. Создать многопоточное приложение, моделирующее поведение пчел и медведя.

### 4 балла
* Реализована программа, которая моделирует поведение пчел и медведя. Ее исходный код доступен в main.c. Сборка с помощью make all.
* Приложение ожидает от пользователя размер банки с горшком и количество пчел. Оба числа > 0, размер банки с пчелами ограничен 512. (Не хотим спавнить тысячи потоков). Пример работы приложения:
```
8 4
Bear is alive
Bear is sleeping
Bee is alive! Target pot size: 8
Bee is alive! Target pot size: 8
Bee is alive! Target pot size: 8
Bee is alive! Target pot size: 8
Bee got more mead. Curretnly at 1
Bee got more mead. Curretnly at 2
Bee got more mead. Curretnly at 3
Bee got more mead. Curretnly at 4
Bee got more mead. Curretnly at 5
Bee got more mead. Curretnly at 6
Bee got more mead. Curretnly at 7
Bee got more mead. Curretnly at 8
Full of mead. Call the bear.
Bear ate all the mead.
Bear is sleeping
Bee got more mead. Curretnly at 1
...
Bee got more mead. Curretnly at 8
Full of mead. Call the bear.
Bear ate all the mead.
Bear is sleeping
Bee got more mead. Curretnly at 1
...
```

* Для программы используется модель параллельных вычислений с множеством потоков-производителей и одним потоком-потребителем. Потоки-производители генерируют данные, а поток-потребитель их обрабатывает. В данном случае потоки-производители - пчелы, а поток-потребитель - медведь.

### 5 баллов
* В программу добавлены комментарии, поясняющие основные действия.
* В модели пчел-медведя есть два основных актора. Пчелы, которые (с некоторой задержкой) увеличивают количество меда в горшке, и медведь, который (по сингалу от пчелы) обнуляет этот горшок. Не уверен, насколько глубже можно рассмотреть предметную область Винни Пуха.

### 6 баллов
* Реализован ввод данных из командной строки.
* Алгоритм: программа запускает поток-медведя и потоки-пчел, после чего join'ит поток медведя. Потоки пчел одна за одной (горшочек защищен mutex'ом) приносят мед в горшочек, после чего, если он заполнен, уведомляют медведя. Медведь принимает сингал через conditional variable, обнуляет мед в горшке и снова засыпает. Процесс повторяется бесконечно.

### 7 баллов
* Программа поддерживает ввод/вывод из/в файла (./main -f in.txt out.txt)
* Примеры входных и выходных файлов есть в файлах example_xxx
* Если мы работаем с файлами, логи пчелок пишутся в файл, иначе на командную строку

### 8 баллов
* Программа поддерживает случайную генерацию параметров (./main -r)